Processing 3 models...
Processing model 1/3: test-model
Completed model 1/3: test-model (1.0s)
Rate limited for model 2/3: test-model (retry in 2.0s)
Failed model 2/3: failed-model (test error)
Synthesizing results...
Done! Output saved to: /path/to/output
Processing 10 models...
Processing model 10/10: model-J
Processing model 5/10: model-E
Processing model 7/10: model-G
Processing model 1/10: model-A
Processing model 4/10: model-D
Processing model 8/10: model-H
Processing model 9/10: model-I
Processing model 6/10: model-F
Processing model 2/10: model-B
Processing model 3/10: model-C
Completed model 3/10: model-C (10ms)
Completed model 5/10: model-E (10ms)
Completed model 10/10: model-J (10ms)
Completed model 9/10: model-I (10ms)
Completed model 8/10: model-H (10ms)
Completed model 6/10: model-F (10ms)
Completed model 7/10: model-G (10ms)
Completed model 2/10: model-B (10ms)
Completed model 1/10: model-A (10ms)
Completed model 4/10: model-D (10ms)
Processing 2 models...
Synthesizing results...
Done! Output saved to: /output
[34mProcessing 2 models...[0m
[1/2] [34mmodel1[0m: processing...
[1/2] [34mmodel1[0m: [32mâœ“[0m completed ([90m800ms[0m)
[2/2] [34mmodel2[0m: [33mâš [0m rate limited (retry in [90m2.0s[0m)
[2/2] [34mmodel2[0m: processing...
[2/2] [34mmodel2[0m: [32mâœ“[0m completed ([90m1.2s[0m)
Synthesizing results...
Done! Output saved to: [90m/output/path[0m
Processing 2 models...
Processing model 1/2: model1
Completed model 1/2: model1 (800ms)
Rate limited for model 2/2: model2 (retry in 2.0s)
Processing model 2/2: model2
Completed model 2/2: model2 (1.2s)
Synthesizing results...
Done! Output saved to: /output/path
Warning: terminal width detection failed: inappropriate ioctl for device, using default width 80
[34mProcessing 10 models...[0m
[4/10] [34mconcurrent-model[0m: processing...
[10/10] [34mconcurrent-model[0m: processing...
[5/10] [34mconcurrent-model[0m: processing...
[6/10] [34mconcurrent-model[0m: processing...
[7/10] [34mconcurrent-model[0m: processing...
[8/10] [34mconcurrent-model[0m: processing...
[9/10] [34mconcurrent-model[0m: processing...
[2/10] [34mconcurrent-model[0m: processing...
[1/10] [34mconcurrent-model[0m: processing...
[3/10] [34mconcurrent-model[0m: processing...
[7/10] [34mconcurrent-model[0m: [31mâœ—[0m failed ([31msimulated error[0m)
[10/10] [34mconcurrent-model[0m: [31mâœ—[0m failed ([31msimulated error[0m)
[8/10] [34mconcurrent-model[0m: [32mâœ“[0m completed ([90m100ms[0m)
[5/10] [34mconcurrent-model[0m: [32mâœ“[0m completed ([90m100ms[0m)
[6/10] [34mconcurrent-model[0m: [32mâœ“[0m completed ([90m100ms[0m)
[1/10] [34mconcurrent-model[0m: [31mâœ—[0m failed ([31msimulated error[0m)
[4/10] [34mconcurrent-model[0m: [31mâœ—[0m failed ([31msimulated error[0m)
[2/10] [34mconcurrent-model[0m: [32mâœ“[0m completed ([90m100ms[0m)
[9/10] [34mconcurrent-model[0m: [32mâœ“[0m completed ([90m100ms[0m)
[3/10] [34mconcurrent-model[0m: [32mâœ“[0m completed ([90m100ms[0m)
Warning: terminal width detection failed: cannot detect size, using default width 80
Warning: terminal width detection failed: inappropriate ioctl for device, using default width 80
Warning: terminal width detection failed: inappropriate ioctl for device, using default width 80
Warning: terminal width detection failed: inappropriate ioctl for device, using default width 80
Warning: terminal width detection failed: inappropriate ioctl for device, using default width 80
Test All Models Failed output:

SUMMARY
â”€â”€â”€â”€â”€â”€â”€
* 3 models processed
* 0 successful, 3 failed
* Output directory: /tmp/output

[!] All models failed to process
  * Check your API keys and network connectivity
  * Review error details above for specific failure reasons
  * Verify model names and rate limits with providers

Test Partial Success output:

SUMMARY
â”€â”€â”€â”€â”€â”€â”€
* 5 models processed
* 3 successful, 2 failed
* Synthesis: [OK] completed
* Output directory: /tmp/output

[!] Partial success - some models failed
  * Success rate: 60% (3/5 models)
  * Check failed model details above for specific issues
  * Consider retrying failed models or adjusting configuration

Test Complete Success with Synthesis output:

SUMMARY
â”€â”€â”€â”€â”€â”€â”€
* 4 models processed
* 4 successful, 0 failed
* Synthesis: [OK] completed
* Output directory: /tmp/output

[OK] All models processed successfully
  * Synthesis completed - check the combined output above

Test Complete Success without Synthesis output:

SUMMARY
â”€â”€â”€â”€â”€â”€â”€
* 2 models processed
* 2 successful, 0 failed
* Output directory: /tmp/output

[OK] All models processed successfully
  * Individual model outputs saved - see file list above

Test Single Model Success output:

SUMMARY
â”€â”€â”€â”€â”€â”€â”€
* 1 models processed
* 1 successful, 0 failed
* Output directory: /tmp/output

[OK] All models processed successfully

2025-07-07 20:07:25.680 [WARN] [test] warn context message
2025-07-07 20:07:25.680 [ERROR] [test] error context message
2025-07-07 20:07:25.680 [ERROR] [test] fatal context message
2025-07-07 20:07:25.680 [INFO] [test] message with secret=abc123
2025-07-07 20:07:25.680 [INFO] [test] test message with custom_secret=mysecret
Test output:
FAILED MODELS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  gpt-4o                                                            rate limited
  claude-3-5-sonnet                                              invalid API key
  gemini-2.5-pro                                                  quota exceeded
Test output:
OUTPUT FILES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  model-output-1.md                                                         1.0K
  model-output-2.md                                                         4.5K
  synthesis.md                                                              1.5M
Test Synthesis Completed output:

SUMMARY
â”€â”€â”€â”€â”€â”€â”€
* 3 models processed
* 2 successful, 1 failed
* Synthesis: [OK] completed
* Output directory: /tmp/output

[!] Partial success - some models failed
  * Success rate: 67% (2/3 models)
  * Check failed model details above for specific issues
  * Consider retrying failed models or adjusting configuration

Test Synthesis Failed output:

SUMMARY
â”€â”€â”€â”€â”€â”€â”€
* 3 models processed
* 2 successful, 1 failed
* Synthesis: [X] failed
* Output directory: /tmp/output

[!] Partial success - some models failed
  * Success rate: 67% (2/3 models)
  * Check failed model details above for specific issues
  * Consider retrying failed models or adjusting configuration

Test Synthesis Skipped output:

SUMMARY
â”€â”€â”€â”€â”€â”€â”€
* 3 models processed
* 2 successful, 1 failed
* Output directory: /tmp/output

[!] Partial success - some models failed
  * Success rate: 67% (2/3 models)
  * Check failed model details above for specific issues
  * Consider retrying failed models or adjusting configuration

Test Custom Status output:

SUMMARY
â”€â”€â”€â”€â”€â”€â”€
* 3 models processed
* 2 successful, 1 failed
* Synthesis: in-progress
* Output directory: /tmp/output

[!] Partial success - some models failed
  * Success rate: 67% (2/3 models)
  * Check failed model details above for specific issues
  * Consider retrying failed models or adjusting configuration

Complete workflow output:

SUMMARY
â”€â”€â”€â”€â”€â”€â”€
* 4 models processed
* 3 successful, 1 failed
* Synthesis: [OK] completed
* Output directory: /tmp/thinktank-output

[!] Partial success - some models failed
  * Success rate: 75% (3/4 models)
  * Check failed model details above for specific issues
  * Consider retrying failed models or adjusting configuration
OUTPUT FILES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  model1.md                                                                 2.0K
  model2.md                                                                 4.0K
  synthesis.md                                                              8.0K
FAILED MODELS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  problematic-model                                                  API timeout
PASS
ok  	github.com/phrazzld/thinktank/internal/logutil	0.390s
